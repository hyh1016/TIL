# Forward vs Redirect

## Forward

### 정의

- 클라이언트에서 요청한 URL에서 다른 URL로 **서버가** 요청을 전달
- 클라이언트는 URL 전환을 인지하지 못하며, 새로운 HTTP Request가 발생하지도 않으며, (브라우저에 표시되는) 요청 URL이 업데이트되지 않음

### 흐름

1. 클라이언트가 서버에 HTTP Request를 보냄
2. 서버는 이 요청을 처리할 다른 URL이 있음을 인지하고, 요청을 다른 URL로 전달
3. 클라이언트에게는 최종적으로 두 번째 URL의 응답 데이터가 제공됨

## Redirect

### 정의

- 클라이언트에서 요청한 URL에 대해 다른 URL에서 이를 처리해야 함을 서버가 클라이언트에게 응답으로 알리고, **클라이언트가** 새 URL로 요청을 보냄
- 클라이언트가 직접 서버의 HTTP Response를 기반으로 새 HTTP Request를 보내게 됨
- 클라이언트가 URL 전환을 인지할 수 있고, 새 HTTP Request가 발생하며, 요청 URL도 업데이트됨

### 흐름

1. 클라이언트가 서버에 HTTP Request를 보냄
2. 서버는 이 요청을 처리할 다른 URL이 있음을 클라이언트에게 알림
    - 300번대 상태 코드를 사용하며, 반드시 헤더에 새 요청을 보낼 URL을 포함해야 함
3. 클라이언트는 서버의 응답에 담긴 새 URL로 HTTP Request를 보냄

## Forward vs Redirect

### 차이점

- Forward는 서버가, Redirect는 클라이언트가 URL 전환을 수행함
- 서버가 전환할 때에는 하나의 HTTP Request-Response 사이클 내에서 이루어지기 때문에 클라이언트는 전환을 인지하지 못함
- 클라이언트가 전환할 때에는 2번의 HTTP Request-Response 사이클을 거쳐 전환이 이루어지기 때문에 클라이언트는 2번째 요청을 최종 요청으로 간주하게 됨

### 언제 무엇을 사용?

- **사용자가 리소스의 위치가 변경되었음을 인지할 필요가 있는가?**
    - 위치 변경을 인지해야 한다면 URL에 표시될 수 있도록 redirect를 사용해야 함
- **HTTP Request-Response 사이클을 새로 시작해야 하는가?**
    - 예를 들어, POST 요청에 대한 전환을 포워딩으로 수행한다면 새로고침 등에 의해 두 번의 POST 요청이 발생할 위험이 있음
    - 이러한 위험을 예방해야 하는 경우라면 redirect를 사용해야 함
- **서버 내에서 제공하는 리소스로의 전환인가?**
    - 요청을 받은 서버가 아닌 다른 서버가 제공하는 리소스로의 전환이라면 redirect를 사용해야 함