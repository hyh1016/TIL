# 🟢🟡🔴 Status Code (상태 코드)

## Status Code

상태 코드란, HTTP Response Message 내에 들어있는 정보로 서버가 `클라이언트의 요청을 처리한 결과`를 나타낸 `세 자리 수`이다. 가장 첫 번째 숫자가 상위 상태코드로 상태의 종류를 나타내고, 나머지 숫자는 세부적인 처리 결과를 나타낸다.

## 🟢 2xx (Success)

200번대 상태 코드는 클라이언트의 요청을 성공적으로 수행했음을 나타낸다.

### 200 OK

- 요청이 성공적으로 이행되었음을 나타냄

### 201 Created

- POST 요청 등에 의해 성공적으로 새로운 리소스가 생성되었음을 나타냄

### 204 No Content

- 요청은 성공적으로 수행되었으나 응답으로 보낼 데이터가 없음
- 이 대신 200을 써도 됨 (상태 코드가 너무 세분화되는 것도 분기 처리 시 복잡할 수 있기 때문에…)
- 본문에 보낼 데이터가 없는 것이 로직상 맞을 때에 사용
    - ex) 작성 중이던 글을 save 버튼을 눌러 임시저장하는 경우
    - 있을 수도 있는데 데이터가 없어서 보낼 게 없는 경우(작성한 게시물 리스트 조회를 했는데 작성한 게시물이 없는 경우)에는 그냥 200과 함께 빈 배열을 보내는 것이 좋음

## 🟡 3xx (Redirection)

300번대 상태 코드는 요청을 완료하기 위해 클라이언트(브라우저)가 추가적인 조치를 이행해야 함을 나타낸다.

### 301 Moved Permanently, 302 Found

- 리소스 자체가 영구적으로 이동되었음을 나타냄
- Response에서 Location 헤더에 바뀐 리소스를 담아 보내주면 새로운 리소스로 접근하기 위해 해당 리소스로 GET 요청을 보냄

### 307 Temporary Redirect, 308 Permanent Redirect

- 호출한 API의 URI가 변경되었음을 나타냄
- Response에서 Location 헤더에 바뀐 리소스를 담아 보내주면 동일한 HTTP 메소드, 동일한 데이터로 변경된 URI에 재요청

### 304 Not Modified

- 캐시를 위해 사용
- 클라이언트에게 해당 리소스가 수정되지 않았음을 나타낸다. 즉, 클라이언트에 저장된 캐시가 유효함을 알려줌
- 클라이언트는 해당 응답을 받으면 저장된 캐시를 사용
- 따라서, 해당 응답은 데이터를 포함하면 안 됨 (캐시를 사용하라고 지시만 할 뿐)

## 🔴 4xx (Client Error)

400번대 상태 코드는 클라이언트의 잘못으로 인해 요청이 정상적으로 수행되지 않았음을 나타낸다.

### 400 Bad Request

- 클라이언트가 요청 내용을 잘못 구성하여 요청 처리에 실패함
- 즉, 해당 리소스가 존재하지만 요청을 위한 스펙을 준수하지 않음

### 401 UnAuthorized

- 해당 리소스에 접근하기 위해서는 인증 절차를 거쳐야 함을 나타냄
- WWW-Authenticate 헤더에 인증 방법을 설명해서 첨부

### 403 Forbidden

- 리소스도 존재하고, 인증 절차도 거쳤으나 해당 권한으로는 이 리소스를 획득할 수 없음을 나타냄
- 보안적 이슈로 403 대신 404를 사용하기도 함
    - 403은 어쨌든 자원이 있다는 사실은 들키기 때문에, 악의적 사용자가 위장 등을 통해 해당 자원을 정상적이지 못한 절차로 탈취할 수 있음

### 404 Not Found

- 요청한 리소스가 서버에 없음을 나타냄

## 🔴 5xx (Server Error)

500번대 상태 코드는 서버의 문제로 인해 요청이 정상적으로 수행되지 않았음을 나타낸다.

500번대 오류는 최대한 개발자가 의도적으로 발생시키지 않아야 한다. 즉, 비즈니스 로직 상 예외인 것은 200번대나 400번대로 처리해야 하며 500번대 오류는 소스 상 오류(ex: NullPointerException) 등에 해당

### 500 Internal Server Error

- 서버 내부 문제로 오류가 발생해 요청을 이행하지 못했음을 나타냄
- 웬만한 서버 오류는 다 500 처리

### 503 Service Unavailable

- 서버를 일시적으로 사용할 수 없음을 나타냄. 500은 터졌다 라면 503은 의도적 서버 중지 정도?
