# π“ HTTP Header

## **HTTP Header**

- HTTP λ©”μ‹μ§€ μ‘μ„± μ‹ μ „μ†΅μ— ν•„μ”ν• λ¶€κ°€μ •λ³΄λ¥Ό λ‚νƒ€λ‚΄κΈ° μ„ν•΄ μ‚¬μ©ν•λ” κ·μ•½

## **λ©”μ‹μ§€ λ°”λ”” ν—¤λ”**

bodyμ λ°μ΄ν„°(μ „λ‹¬ν•  μ‹¤μ  λ°μ΄ν„°)μ— λ€ν• λ¶€κ°€μ •λ³΄λ¥Ό λ‚νƒ€λ‚΄λ” ν—¤λ”λ΅, `μ”μ²­ μ‹`, `μ‘λ‹µ μ‹` λ¨λ‘ μ‚¬μ©ν•λ‹¤.

μ”μ²­ μ‹μ—λ” request bodyμ— λ€ν• λ¶€κ°€ μ •λ³΄, μ‘λ‹µ μ‹μ—λ” response bodyμ— λ€ν• λ¶€κ°€ μ •λ³΄λ¥Ό λ‚νƒ€λ‚Έλ‹¤.

- **Content-Type: λ°μ΄ν„° ν•μ‹**
    - ex) text/html, application/json, image/png
- **Content-Encoding: λ°μ΄ν„°λ¥Ό μ••μ¶•ν•λ‹¤λ©΄ μ–΄λ–¤ μ••μ¶• λ°©μ‹μ„ μ‚¬μ©ν•λ”μ§€**
    - μ”μ²­ μ‹ ν•΄λ‹Ή ν—¤λ”λ¥Ό μ‚¬μ©ν•λ©΄ μ‘λ‹µ λ°μ΄ν„°λ„ ν•΄λ‹Ή μ••μ¶• λ°©μ‹μΌλ΅ μ••μ¶•λμ–΄μ„ μ¨λ‹¤.
    - ex) gzip
- **Content-Language: λ°μ΄ν„°κ°€ μ–΄λ–¤ μ–Έμ–΄λ΅ μ΄λ£¨μ–΄μ Έ μλ”μ§€**
    - ex) ko, en
- **Content-Length: λ°μ΄ν„°μ κΈΈμ΄ (μ«μλ΅ λ‚νƒ€λƒ„)**

## **μ»¨ν…μΈ  ν‘μƒ(Content Negotiation) ν—¤λ”**

ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² λ°›κ³ μ ν•λ” λ°μ΄ν„°μ— λ€ν•΄ μ•λ ¤μ£ΌκΈ° μ„ν•΄ μ‚¬μ©ν•λ” ν—¤λ”λ΅, `μ”μ²­ μ‹` μ‚¬μ©ν•λ‹¤.

- **Accept: ν΄λΌμ΄μ–ΈνΈκ°€ μ„ νΈν•λ” λ―Έλ””μ–΄ νƒ€μ…**
- **Accept-Charset: ν΄λΌμ΄μ–ΈνΈκ°€ μ„ νΈν•λ” λ¬Έμ μΈμ½”λ”© νƒ€μ…**
- **Accept-Encoding: ν΄λΌμ΄μ–ΈνΈκ°€ μ„ νΈν•λ” μ••μ¶• μΈμ½”λ”© νƒ€μ…**
- **Accept-Language: ν΄λΌμ΄μ–ΈνΈκ°€ μ„ νΈν•λ” μ–Έμ–΄**

### **μ»¨ν…μΈ  ν‘μƒμ Quality Value(q)**

μ»¨ν…μΈ  ν‘μƒμ—μ„λ” μ„λ²„μ— μ–΄λ–¤ νƒ€μ…μ λ¦¬μ†μ¤κ°€ μλ”μ§€ λ¨λ¥΄λ―€λ΅, λ°›κ³  μ‹¶μ€ νƒ€μ…μ„ μ—¬λ¬ κ° λ‚μ—΄ν•κ³  νƒ€μ… κ°„ μ°μ„ μμ„λ¥Ό μ„¤μ •ν•  μ μλ‹¤. μ΄ μ°μ„ μμ„ κ°’μ„ Quality ValueλΌκ³  ν•λ©°, `q`λ΅ λ‚νƒ€λ‚Έλ‹¤.

0λ¶€ν„° 1κΉμ§€ μ†μμ μΌλ΅ μ„¤μ • κ°€λ¥ν•λ©°, κ°’μ΄ ν΄ μλ΅ μ°μ„ μμ„κ°€ λ†’λ‹¤. q κ°’μ„ μƒλµν• κ²½μ° μλ™μΌλ΅ 1λ΅ μ„¤μ •λλ‹¤.

ex) Accept-Language: ko-KR,ko;q=0.9,en-US;q=0.8;en;q=0.7 ν—¤λ”μ—μ„ κ° μ–Έμ–΄μ μ°μ„ μμ„λ”?

- ko-KR: μƒλµν–μΌλ―€λ΅ q=1μ΄ λκ³  κ°€μ¥ λ†’λ‹¤.
- ko: q=0.9μ΄λ―€λ΅ λ‘ λ²μ§Έ
- en-US: q=0.8μ΄λ―€λ΅ μ„Έ λ²μ§Έ
- en: q=0.7μ΄λ―€λ΅ λ„¤ λ²μ§Έ

μ„λ²„μ—μ„ μ»¨ν…μΈ  ν‘μƒ ν—¤λ”μ— μ—†λ” λ¦¬μ†μ¤λ°–μ— μ¤„ μ μ—†λ” κ²½μ°μ—λ” μ„λ²„μ—μ„ μ •ν•΄λ‘” μ°μ„ μμ„μ— μν•΄ λ¦¬μ†μ¤κ°€ μ „λ‹¬λλ‹¤. (μ—†λ‹¤κ³  μ „λ‹¬μ΄ μ• λμ§€λ” μ•λ”λ‹¤λ” κ²ƒ!)

## μ”μ²­ ν—¤λ”

μ£Όλ΅ ν΄λΌμ΄μ–ΈνΈμ νΉμ • μ •λ³΄λ¥Ό μ „λ‹¬ν•κΈ° μ„ν•΄ μ‚¬μ©λλ” ν—¤λ”

- Referer: ν•΄λ‹Ή μ”μ²­ νμ΄μ§€μ μ΄μ „ μ›Ή νμ΄μ§€ μ£Όμ† (λ’¤λ΅κ°€κΈ° μ‹ λ‚νƒ€λ‚  URI)
    - λ°μ΄ν„° λ¶„μ„μ—μ„ νΉμ • νμ΄μ§€μ μ μ… κ²½λ΅ λ¶„μ„μ„ μ„ν•΄ μμ£Ό μ‚¬μ©
- User-Agent: ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…(ex: λΈλΌμ°μ €) μ •λ³΄
    - κ° λΈλΌμ°μ € λ³„ ν†µκ³„ λ°μ΄ν„°λ¥Ό μ–»μ„ μ μλ‹¤.
- Host: μ”μ²­ν• νΈμ¤νΈ(μ• ν”λ¦¬μΌ€μ΄μ…μ λ„λ©”μΈ) μ •λ³΄
    - λ¬Όλ¦¬μ μΌλ΅ ν•λ‚μ μ„λ²„(λλ” IP)μ—μ„ μ—¬λ¬ λ„λ©”μΈμ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ²λ¦¬ν•λ” κ²½μ°λ„ μμ–΄ ν•΄λ‹Ή ν—¤λ”λ¥Ό ν†µν•΄ μ–΄λ–¤ μ• ν”λ¦¬μΌ€μ΄μ…μ— μ „λ‹¬λμ–΄μ•Ό ν•λ” HTTP λ©”μ‹μ§€μΈμ§€λ¥Ό κ²°μ •ν•λ‹¤. λ•λ¬Έμ— HTTP Specμ—μ„λ” ν•΄λ‹Ή ν—¤λ”λ¥Ό `ν•„μ ν—¤λ”`λ΅ μ§€μ •ν•κ³  μλ‹¤.

## μ‘λ‹µ ν—¤λ”

- Server: ν΄λΌμ΄μ–ΈνΈμ User-Agentμ²λΌ, μ„λ²„μ μ†ν”„νΈμ›¨μ–΄ μ •λ³΄λ¥Ό λ‚νƒ€λƒ„
    - μ΄ λ• μ„λ²„λ” μ‹¤μ  μ”μ²­μ„ μ²λ¦¬ν•λ” origin μ„λ²„
- Date: μ‘λ‹µ λ©”μ‹μ§€κ°€ μƒμ„±λ λ‚ μ§/μ‹κ°„

## μ‘λ‹µ μƒνƒ μ½”λ“ κ΄€λ ¨ ν—¤λ”

- Allow: 405 Method Not Allowed μ‘λ‹µμ— ν¬ν•¨λλ” ν—¤λ”λ΅, μ‚¬μ© κ°€λ¥ν• HTTP Methodλ¥Ό μ•λ ¤μ¤
- Location: λ¦¬μ†μ¤μ μ„μΉλ¥Ό μ•λ ¤μ£Όλ” ν—¤λ”λ΅, λ‘ κ°€μ§€ κ²½μ° μ‚¬μ©
    - 201 Createdμ™€ ν•¨κ» μ‚¬μ©: μƒλ΅­κ² μƒμ„±λ λ¦¬μ†μ¤μ URI
    - 3xx(λ¦¬λ‹¤μ΄λ ‰μ… κ΄€λ ¨ μƒνƒ μ½”λ“)μ™€ ν•¨κ» μ‚¬μ©: ν•΄λ‹Ή νμ΄μ§€λ΅ μ”μ²­μ„ μλ™ λ¦¬λ‹¤μ΄λ ‰μ…
- Retry-After: 503 Service Unavailable μ‘λ‹µ μ‹ μ–Έμ κΉμ§€ μ΄μ© λ¶κ°€λ¥μΈμ§€λ¥Ό μ•λ ¤μ¤

## μΌλ¶€ λ°μ΄ν„° **μ „μ†΅ ν—¤λ”**

μ»¨ν…μΈ  μ „λ¶€λ¥Ό λ°›μ•„λ³΄λ” λ€μ‹  μΌλ¶€λ§ λ°›μ•„λ³Ό μ μλ„λ΅ ν•λ” ν—¤λ”

λ²”μ„ μ”μ²­μ„ ν•  κ²½μ° λ©”μ‹μ§€ λ°”λ”” ν—¤λ” `Content-Length`λ” μ‚¬μ©ν•μ§€ λ§μ•„μ•Ό ν•λ‹¤. 

- Transfer-Encoding: μ‘λ‹µ λ°μ΄ν„°κ°€ λ¶„ν•  μ „μ†΅λλ‹¤.
- Range: μ”μ²­ μ‹μ— μ‚¬μ©ν•λ©°, νΉμ • λ‹¨μ„λ΅ νΉμ • λ²”μ„λ§νΌ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  κ²ƒμ„ μ”μ²­ (λ‹¨μ„λ” μ£Όλ΅ bytes)
    - ex) Range: bytes=200-1000, 1001-2000, β€¦
- Content-Range: Range μ”μ²­μ— λ€ν• μ‘λ‹µ μ‹ μ‚¬μ©ν•λ©°, μ „μ²΄ λ°”λ”” λ©”μ‹μ§€μ— μ†ν• λ¶€λ¶„ λ©”μ‹μ§€μ μ„μΉλ¥Ό μ•λ ¤μ¤
    - ex) Content-Range: bytes 1001-2000 / 2000

## μΈμ¦ κ΄€λ ¨ ν—¤λ”

- Set-Cookie: μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ μΏ ν‚¤ μ „λ‹¬ (μ‘λ‹µ μ‹ μ‚¬μ©)
- Cookie: ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ €μ¥λ μΏ ν‚¤ μ „λ‹¬ (μ”μ²­ μ‹ μ‚¬μ©)
- Authorization: μ”μ²­ μ‹ ν΄λΌμ΄μ–ΈνΈμ μΈμ¦ μ •λ³΄λ¥Ό μ„λ²„μ— μ „λ‹¬
- WWW-Authenticate: 401 Unauthorized μ‘λ‹µ μ‹ ν•„μ”ν• μΈμ¦ λ°©λ²•μ„ μ„¤λ…ν•κΈ° μ„ν•΄ μ‚¬μ©

## μ¶μ²

[MDN - HTTP ν—¤λ”](https://developer.mozilla.org/ko/docs/Web/HTTP/Headers)
