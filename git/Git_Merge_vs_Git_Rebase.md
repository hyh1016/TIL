# ğŸ” Git Merge vs Git Rebase

## Merge, Rebase

### ê³µí†µì 

- ì„œë¡œ ë‹¤ë¥¸ ë‘ ë¸Œëœì¹˜ì˜ ë‚´ìš©ì„ ëª¨ë‘ ë°˜ì˜

### ì°¨ì´ì 

- MergeëŠ” ë‘ ë¸Œëœì¹˜ì˜ ë³€ê²½ ì‚¬í•­ì„ ëª¨ë‘ ë°˜ì˜í•œ ìƒˆë¡œìš´ ì»¤ë°‹ì„ ìƒì„± (ë¨¸ì§€ ì»¤ë°‹)
- RebaseëŠ” ì´ë¥¼ í˜¸ì¶œí•œ ë¸Œëœì¹˜ì—ì„œ ë‹¤ë¥¸ ë¸Œëœì¹˜ë¡œ baseë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒìœ¼ë¡œ ìƒˆë¡œìš´ ì»¤ë°‹ì„ ìƒì„±í•˜ì§€ ì•Šê³  ë³€ê²½ ì‚¬í•­ ë°˜ì˜

## Merge

```java
git merge {ë¨¸ì§€í•  ë¸Œëœì¹˜}
```

- í˜¸ì¶œí•œ ë¸Œëœì¹˜ì— ë¨¸ì§€í•  ë¸Œëœì¹˜ì˜ ë³€ê²½ ì‚¬í•­ì„ ë°˜ì˜

### ì¥ì 

- Rebaseì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ìœ„í—˜ì„±ì€ ì—†ìŒ

### ë‹¨ì 

- í•­ìƒ ë‘ ë¸Œëœì¹˜ì˜ ë³€ê²½ ì‚¬í•­ì„ ëª¨ë‘ ë°˜ì˜í•œ ìƒˆ ì»¤ë°‹ì´ ìƒê¹€
- ë”°ë¼ì„œ ì»¤ë°‹ ë‚´ì—­ê³¼ Git Graphê°€ ì§€ì €ë¶„í•´ì§ˆ ìˆ˜ ìˆìŒ

## Rebase

### ì¥ì 

- ë³„ë„ì˜ ìƒˆ ì»¤ë°‹ ì—†ì´ ì–‘ ìª½ì˜ ë³€ê²½ì‚¬í•­ì„ ëª¨ë‘ ë°˜ì˜í•  ìˆ˜ ìˆìŒ
- ë‚´ê°€ ë§ˆì¹˜ ìƒëŒ€ë°©ì´ ì‘ì—…í•œ ì´í›„ì— ì‘ì—…í•œ ê²ƒì²˜ëŸ¼ íˆìŠ¤í† ë¦¬ê°€ ê¸°ë¡ë˜ê¸° ë•Œë¬¸ì— ë¸Œëœì¹˜ ê·¸ë˜í”„ë¥¼ ê¹”ë”í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ

### ë‹¨ì 

- **ë¦¬ë² ì´ìŠ¤ì˜ ë™ì‘ ì›ë¦¬ì— ì˜í•œ ìœ„í—˜ì„±**
    - ë¨¸ì§€ëŠ” ê·¸ëƒ¥ í˜„ì¬ ë¸Œëœì¹˜ì—ì„œ ë¨¸ì§€í•  ë¸Œëœì¹˜ì™€ì˜ ë³€ê²½ ë‚´ì—­ì„ ë°˜ì˜í•œ ìƒˆ ì»¤ë°‹ ì°ê³  ë
    - ë¦¬ë² ì´ìŠ¤ëŠ” í˜„ì¬ ë¸Œëœì¹˜ì—ì„œ ë¦¬ë² ì´ìŠ¤í•  ë¸Œëœì¹˜ë¥¼ patchë¡œ ë§Œë“¤ê³  ì—¬ê¸°ì„œ í˜„ì¬ ë¸Œëœì¹˜ì˜ ì‘ì—…ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ë‹¤ì‹œ ì»¤ë°‹í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘
        - ì¦‰, baseë¥¼ ë¦¬ë² ì´ìŠ¤í•  ë¸Œëœì¹˜ì˜ ë§ˆì§€ë§‰ ì»¤ë°‹ìœ¼ë¡œ ì˜®ê¸´ ì´í›„ ì‹œì ì˜ `ëª¨ë“  ì»¤ë°‹ì´ ìƒˆë¡œ ì‘ì„±ë¨`
            - `ì»¤ë°‹ í•´ì‹œê°€ ë³€ê²½`ë˜ê³ , ë¦¬ë² ì´ìŠ¤ ì´ì „ì˜ ì»¤ë°‹ê³¼ `ì™„ì „íˆ ë‹¤ë¥¸ ì»¤ë°‹ìœ¼ë¡œ ê°„ì£¼`ë¨
    - ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì´ë¯¸ ì›ê²© ì €ì¥ì†Œì— pushí•œ ì»¤ë°‹ì„ rebase í•´ì„œëŠ” ì•ˆ ë¨
        1. ë‚´ ì‘ì—…ì— ëŒ€í•œ ì»¤ë°‹ A, Bë¥¼ originì— push
        2. ë‹¤ë¥¸ ì‚¬ëŒì˜ ì‘ì—… ë‚´ìš©ì„ ë°˜ì˜í•˜ê³ ì rebase
            - baseê°€ ì¬ì„¤ì •ë˜ë©° ì´í›„ì˜ ì‘ì—…ë¬¼ì¸ A, B ì»¤ë°‹ì€ Aâ€™, Bâ€™ ì»¤ë°‹ìœ¼ë¡œ ë³€ê²½ë¨
        3. ì´í›„ ë‹¤ë¥¸ ì‘ì—… Cë¥¼ ìˆ˜í–‰í•´ ì»¤ë°‹í•˜ê³  originì— push
        4. **ê¸°ì¡´ì˜ A, Bì™€ Aâ€™, Bâ€™ëŠ” ê°™ì€ ì‘ì—…ì„ì—ë„ ë‹¤ë¥¸ ì»¤ë°‹ìœ¼ë¡œ ê°„ì£¼ë¨**

### Rebase ë¬¸ì œì  ì˜ˆì‹œ

1. ë§ˆìŠ¤í„°ì—ì„œ ë¸Œëœì¹˜ aë¡œ ì²´í¬ì•„ì›ƒí•˜ê³  ìƒˆ ì»¤ë°‹ì„ ìƒì„±
    
    ```java
    commit f132497e029781371a1fb6602a27d44947327be7 (HEAD, master, a)
    Author: ~
    Date:   ~
    
        a commit (1)
    
    commit 2a56f8e097407782b80d01b963b51a5da52052eb
    Author: ~
    Date:   ~
    
        Initial commit
    ```
    
2. ë§ˆìŠ¤í„°ì—ì„œ ë¸Œëœì¹˜ bë¡œ ì²´í¬ì•„ì›ƒí•˜ê³  ë‘ ê°œì˜ ìƒˆ ì»¤ë°‹ì„ ìƒì„±
    
    ```java
    commit 5c966a660743e97751b2cc3a02dbb6af52742c95 (HEAD -> b)
    Author: ~
    Date:   ~
    
        b commit (2)
    
    commit 9d2628054585e816abb2d3c1e1e4805cd2fa0c58
    Author: ~
    Date:   ~
    
        b commit (1)
    
    commit 2a56f8e097407782b80d01b963b51a5da52052eb (master)
    Author: ~
    Date:   ~
    
        Initial commit
    ```
    
3. ë§ˆìŠ¤í„°ê°€ aë¥¼ ë¦¬ë² ì´ìŠ¤í•˜ê³ (ì¶©ëŒ ì—†ìŒ), bë¡œ ì´ë™í•´ ë§ˆìŠ¤í„°ë¥¼ ë¦¬ë² ì´ìŠ¤(a, bê°„ ì‘ì—… ë‚´ìš© ì¶©ëŒ)
4. ì¶©ëŒ í•´ê²° í›„ `git rebase --continue` ëª…ë ¹ì„ í†µí•´ ë¦¬ë² ì´ìŠ¤ë¥¼ ìˆ˜í–‰
    
    ```java
    commit **9d4cf26dcbd273d3ebae0417c105c400f131b333** (HEAD -> b)
    Author: ~
    Date:   ~
    
        b commit (2)
    
    commit **bfa0260647e48ec204a450c459a1164a14f98e94**
    Author: ~
    Date:   ~
    
        b commit (1)
    
    commit f132497e029781371a1fb6602a27d44947327be7 (master, a)
    Author: ~
    Date:   ~
    
        a commit (1)
    
    commit 2a56f8e097407782b80d01b963b51a5da52052eb
    Author: ~
    Date:   ~
    
        Initial commit
    ```
    
    - masterì˜ base(ì‹œì‘ì )ê°€ bì—ì„œì˜ masterì˜ ìœ„ì¹˜(Initial Commit)ì—ì„œ ë¦¬ë² ì´ìŠ¤ë¥¼ ì‹œë„í•œ master(a commit (1))ë¡œ ì´ë™
    - ê·¸ ì´í›„ì˜ bì˜ ì»¤ë°‹ì˜ ì»¤ë°‹ í•´ì‹œê°€ ëª¨ë‘ ë°”ë€œ
        - ë³µì‚¬í•œ ë¸Œëœì¹˜ì— ì»¤ë°‹ì„ ìƒˆë¡œ ì“°ê³  ì´ë¥¼ ìƒˆ b ë¸Œëœì¹˜ë¡œ ê°„ì£¼í•˜ë¯€ë¡œ
    - ë§Œì•½ ì›ê²©ì— ì•ì„  bì˜ ì»¤ë°‹ ë‚´ì—­ì´ ë°˜ì˜ë˜ì–´ ìˆì—ˆë‹¤ë©´ 4ë²ˆì˜ ê¹ƒ íˆìŠ¤í† ë¦¬ë¥¼ í‘¸ì‹œí•  ì‹œ ë¬¸ì œê°€ ë°œìƒ

## ì™¸ë¶€ ì €ì¥ì†Œì˜ ì½”ë“œë¥¼ pullí•˜ëŠ” ê²½ìš°

### fetch?

```bash
git fetch {ì›ê²©ì €ì¥ì†Œ ë³„ì¹­} {ì›ê²©ì €ì¥ì†Œ ë¸Œëœì¹˜}
```

- FETCH_HEADë¼ëŠ” ë¸Œëœì¹˜ì— í•´ë‹¹ ì›ê²© ë¸Œëœì¹˜ì˜ ë³€ê²½ ì‚¬í•­ì„ ë°˜ì˜

### fetch-merge (default pull)

```bash
# 1
git config pull.rebase false  # merge (the default strategy)
git pull origin {branch}

# 2
git fetch origin {branch}
git merge FETCH_HEAD
```

### fetch-rebase

```bash
# 1
git config pull.rebase true   # change strategy to rebase
git pull origin {branch}

# 2
git fetch origin {branch}
git rebase FETCH_HEAD
```

## Merge, Rebase ì „ëµ ê²°ë¡ 

- ê¸°ë³¸ ì „ëµì€ rebaseë¡œ í•˜ë˜ ì™¸ë¶€ì— PRì„ ì˜¬ë ¤ë†“ê³  ì¶”ê°€ ì‘ì—… í•˜ëŠ” ê²½ìš°ì—ëŠ” ì§ì ‘ fetch-merge ìˆ˜í–‰
- ë§Œì•½ ì‹¤ìˆ˜ë¡œ ì™¸ë¶€ì— PR ìˆëŠ”ë° git pull í•´ì„œ rebaseë¥¼ ì‹œë„í•œ ê²½ìš° `git rebase --abort`ë¡œ ë¦¬ë² ì´ìŠ¤ ì·¨ì†Œí•˜ê³  ë‹¤ì‹œ fetch-merge
