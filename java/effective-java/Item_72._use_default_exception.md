# Item 72. 표준 예외를 사용하라

## 표준 예외를 재사용하는 것의 이점

### 다른 사람이 나의 API를 이해하기 쉬워짐

- 표준 라이브러리는 자바 라이브러리에서 제공하며, 대부분 숙지하고 있음
- 커스텀 예외를 사용하면 사용자가 이 예외에 대해 이해해야 하는데, 표준 예외를 사용하면 낯선 예외에 대해 이해하기 위해 사용하는 시간을 절약 가능

### 메모리, 시간 효율

- 더 많은 예외 클래스가 존재할 수록 더 많은 메모리를 사용하고, 클래스를 적재하기 위한 시간도 더 많이 소요됨
- 따라서, 이미 존재하는 표준 예외를 재사용하고 새로운 예외를 생성하는 것을 지양하는 일은 시간/공간적 효율성도 높이는 일

## 자주 재사용되는 표준 예외

### IllegalArgumentException

- 호출자가 인수로 부적절한 값을 넘겼을 때 던지는 예외
- 즉, `인수`가 원인이어서 정상 동작에 실패한 경우 사용

### IllegalStateException

- 대상 객체가 호출한 메서드를 수행할 수 없는 상태일 때 던지는 예외
- 객체의 상태가 변화하지 않는 한 `어떤 인수를 던지든 실패`
    - 이게 IllegalArgumentException과의 핵심 차이

### NullPointerException

- null을 허용하지 않는 메서드에 null 값을 전달했을 때 던지는 예외

### IndexOutOfBoundException

- 특정 시퀀스의 허용 범위를 넘는 값이 건네진 경우 던지는 예외

### ConcurrentModificationException

- 동시 수정이 불가능하도록 설계한 객체의 내부 값을 여러 스레드에서 동시에 수정하려고 하는 경우 던지는 예외
- 실제 동시 수정 여부는 알기 어려우며, 그냥 `그럴 가능성이 있음을 알려주는 정도`로만 사용

### UnsupportedOperationException

- 대상 객체가 클라이언트가 요청한 동작을 지원하지 않을 때 던지는 예외
- 주로 `특정 인터페이스는 구현하나 그 내부의 일부 메서드를 지원하지 않는 경우` 사용
    - 모든 내부 데이터를 불변으로 관리하는 Map 구현체에 set 메서드를 호출했을 때

## 사용할 예외를 선택하는 방법

- 표준 예외를 재사용하고자 할 때에는 해당 예외의 API 문서를 참고해 `맥락에 부합할 때` 사용
- 맥락에 부합하는 표준 예외가 없거나, 표준 예외만으로는 제공하고자 하는 정보를 모두 제공할 수 없을 때에는 예외를 확장하여 커스텀 예외를 정의할 수도 있음
    - 하지만 예외를 새로 정의하는 것은 많은 비용을 동반
    - 위에서 언급한 것처럼 우선 새 클래스를 할당할 메모리와, 메모리에 적재하기 위한 시간이 소요됨
    - 또한, 예외는 직렬화 가능(Serializable을 구현)하기 때문에 비용이 큰 객체
