# Item 62. 다른 타입이 적절하다면 문자열 사용을 피하라

## 문자열을 사용하지 말아야 할 때

### 다른 값 타입을 대신하지 말 것

- 정수, 참거짓 등의 데이터를 받을 때에는 각 데이터에 맞는 타입을 사용하는 것이 좋음

### 열거 타입을 대신하지 말 것

- 열거 타입을 명시적으로 사용하는 편이 좋음

### 혼합 타입을 대신하지 말 것

- 각각을 별도 타입의 멤버 변수로 하는 클래스를 선언하는 편이 좋음
- 혼합 타입에서 각 타입을 명시적으로 구분하기 위해 사용하는 구분자가 실제 값 내에도 포함되어 있는 경우 문제를 일으킬 수 있음
    - 값1 + “#” + 값2로 나타내는 경우 값에 #가 들어 있으면 사용 시 혼동이 올 수 있음
- 동등 여부/크고 작음을 비교하기 어렵고 String이 제공하는 기능에만 의존해야 함

### 문자열로 권한을 표현하지 말 것

- 문자열을 key 값으로 특정 행동을 분리하고자 한다면, `String은 불변이기 때문에 같은 문자열을 사용하는 순간 동일한 값을 사용하는 것으로 취급됨`
    - 의도치 않은 실수로 문제가 발생할 수도 있고, 악의적 사용자에 의해 문제가 발생할 수도 있음 (보안 취약성)

### 결론

- 대체할 수 있는 데이터 타입이 있다면 그것으로 대체
- 대체할 수 있는 적합한 데이터 타입이 없다면, 직접 작성
- 문자열은 잘못 사용하면 불변성 때문에 문제가 생길 수 있음


## 이러한 불편함에도, String이 불변인 이유는?

- String 객체는 상수 풀에 저장되어, 동일 문자열을 참조할 때에는 새 객체를 생성하는 대신 이미 있는 객체를 재사용
- 변조가 불가능
    - 사실 불변 때문에 보안 취약점이 발생하지만 동시에 `보안적 이점을 위해 불변`이기도 함
    - 특정 번지수의 문자열의 값을 조작할 수 있다면 이를 악용하는 사용자가 나올 수 있기 때문
- Thread-Safe
    - 불변임이 보장되기 때문에, 여러 스레드에서 동시에 사용해도 안전