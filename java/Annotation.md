# Annotation

## Java의 어노테이션(Annotation)

어노테이션은 우리나라 말로 `주석`을 뜻한다. Java의 어노테이션은 어노테이션이 지정된 클래스/메소드/필드 등의 `특성을 설명`하거나, `지켜야 할 규약`을 지정하기 위한 용도로 사용된다.

Java의 어노테이션은 크게 3가지로 분류된다.

1. 컴파일 타임에 특정 에러를 체크할 수 있도록 함
   * `@Override`, `@Deprecated`, `@FunctionalInterface`, `@SuppressWarnings`
2. 다른 프로그램(SW)이 빌드/배치 시 특정 코드를 자동으로 생성(주입)할 수 있도록 함
3. 런타임 시 특정 기능을 실행

## 등장 이유

어노테이션은 JDK 1.5부터 도입된 기능이다. 그 전에는 클래스, 메소드, 필드 중 일부가 수행해야 할 로직, 준수해야 할 규약 등의 부가 정보를 코드에 포함시키거나 별도의 설정 파일로 분리하여 관리하는 수밖에 없었는데, 각 방법은 다음의 문제로 이어졌다.

### 부가 정보가 코드에 포함되는 경우

* 중복된 로직을 여러 코드에 넣으므로 확장성 면에서 좋지 않음
* 말 그대로 부가 정보이므로 책임이 잘 분리되지 않은 코드가 됨
* 가독성 면에서도 좋지 않음. 해당 부가 정보가 무엇을 위한 정보인지 한 눈에 파악하기 어려움

### 설정 파일로 분리하는 경우

* 코드와 설정이 분리되어 있어 관리하는 것이 불편함
* 코드는 수정하고 설정 파일은 수정하지 않아 불일치 문제가 발생하기도 함

이러한 가독성 저하 문제, 별도 설정 파일 관리 문제 등을 해결하기 위해 `부가 정보를 하나의 단어로 표현해 쉽게 의도를 확인할 수 있고, 설정이 코드와 동일한 파일에 존재해 설정과 코드를 함께 다룰 수 있는` 어노테이션 기능을 도입하였다.

## Java에서 제공하는 표준 어노테이션

Java에서는 여러 가지 내장 어노테이션을 지원한다.

본 글에서는 이를 컴파일 타임에 특정 동작이 수행되도록 돕는 `내장 어노테이션`과 어노테이션을 선언할 때 사용되는 `메타 어노테이션`으로 나누어 설명한다.

## 내장 어노테이션

### @Override

* 해당 어노테이션이 사용된 메소드가 오버라이딩되었음을 나타냄
* 오버라이딩을 올바르게 했는지 컴파일러가 체크하도록 함
  * 오버라이딩할 메소드가 부모 클래스에 없는 경우 컴파일 에러를 발생시킴
* 지켜야 할 규약을 지정하기 위한 어노테이션에 해당

### @Deprecated

* 해당 어노테이션이 사용된 메소드가 더 이상 사용되지 않음을 나타냄
* 해당 어노테이션이 있는 메소드를 사용하면 컴파일 시 경고 메시지를 출력함
* 지켜야 할 규약을 지정하기 위한 어노테이션에 해당

### @SuppressWarnings

* 해당 어노테이션이 사용된 곳에서 발생한 컴파일 에러를 무시함
* 특정 warning에 대해 컴파일러가 경고 메시지를 출력하지 않도록 억제

### @FunctionalInterface

* 함수형 인터페이스에 붙이면 컴파일러가 올바르게 작성했는지 체크하도록 함
* 함수형 인터페이스는 단 하나의 추상메소드만 가져야 함

## 메타 어노테이션 (어노테이션 선언을 위한 어노테이션)

### @Target

* 어노테이션을 적용할 타입을 지정
* 클래스, 메소드, 생성자, 필드, 패키지, 파라미터 등이 주로 사용된다.

### @Retention

* 어노테이션의 유지 정책(언제까지 유효한지)을 지정
* `Retention.SOURCE`: 컴파일 전까지만 유효
  * 컴파일된 결과물인 바이트코드(.class 파일)에는 해당 어노테이션이 존재하지 않음
  * 주로 소스 코드 작성 중 실수하지 않도록 제약을 거는(지키지 않을 시 컴파일 에러 발생) 어노테이션에 사용
* `Retention.CLASS`: 컴파일러가 클래스를 참조할 때까지 유효
  * 바이트코드(.class 파일)에는 존재하나, 클래스 로더에 의해 메모리에 적재될 때 제거됨
  * 거의 사용하지 않음
* `Retention.RUNTIME`: 프로그램 실행 중에도 유효
  * 메모리에 적재될 때에도 해당 어노테이션 정보가 존재하여 런타임에도 참조 가능
  * 주로 실행 중에도 호출되는, 특정 로직을 수행할 수 있게 해 주는 어노테이션에 사용

### @Documented

* 해당 어노테이션을 Javadoc 프로그램에 의해 생성되는 java documentation에 포함시킴

### @Inherited

* 해당 어노테이션이 사용된 클래스를 상속하는 클래스도 해당 어노테이션을 갖도록 함
